<div id="featured" class="featured">
  <div class="container">
    <div class="featured__title">Featured Products</div>
    <div class="featured__cards">
      {% if cart.items.size > 0 %}
        {% for product in collections.all.products %}
          {% for cartProduct in cart.items %}
            {% if cartProduct.product_id != product.id %}
              {% render 'product-card'
                , product: product %}
            {% endif %}
          {% endfor %}
        {% endfor %}
      {% else %}
        {% for product in collections.all.products %}
          {% render 'product-card'
            , product: product %}
        {% endfor %}
      {% endif %}

    </div>
  </div>
</div>


{% schema %}
  {
    "name": "Featured Products",
    "settings": [
      {
        "type": "collection",
        "id": "collection",
        "label": "Collection"
      }
    ]
  }
{% endschema %}